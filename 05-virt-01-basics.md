## Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

### Задача 1: Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

Основная разница в типе хоста, используемого для виртуализации и типах виртуальных машин.  
При полной виртуализации ОС не требуется, т.к. гипервизор сам является ОС. При паравиртуализации необходимо наличие операционной системы на хосте, в рамках которого запускаются виртуальные машины. При этом ядро виртуалок модифицируется для предоставления им доступа к ресурсам хоста. При виртуализации на основе ОС отдельно выделенный гипервизор не требуется. Каждая машина запускается в полностью изолированной среде (неймспейсе) и делит ресурсы хоста.

### Задача 2: Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

-   физические сервера
-   паравиртуализация
-   виртуализация уровня ОС

Условия использования:

-   Высоконагруженная база данных, чувствительная к отказу.
-   Различные web-приложения.
-   Windows системы для использования бухгалтерским отделом.
-   Системы, выполняющие высокопроизводительные расчеты на GPU.  
    Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

`Высокоуровневая база данных, чувствительная к отказу`  
В данном случае лучшим решением будет использование полной, аппаратной виртуализации. При таком способе мы убираем все прослойки в виде дополнительных слоёв ОС и получаем максимально живучий и быстрый механизм работы.  
`Различные web-приложения`  
Здесь я бы предпочёл использовать виртуализацию на основе ОС. Самым лёгким решением является использование docker-контейнеров, позволяющих в кратчайшие сроки разворачивать среды для тестирования изменений в коде.  
`Windows систем для использования бухгалтерским отделом`  
Выберу паравиртуализацию, на основе привычного всем Hyper-V. Также при таком типе виртуализации мы легко сможем настраивать систему активации различного рода приложений и интеграций лицензионных ключей, так как максимально совместим с Windows инфраструктурой.  
`Системы, выполняющие высокопроизводительные расчёты на GPU`  
Для данного сценария я бы разворачивал либо полную аппаратную виртуализацию, либо паравиртуализацию (в случае, если поддерживается) для более простого расшаривания аппаратных ресурсов (GPU).

``` 
Доработка
Задание 2
2.1, 2.4 чем указанные решения будут производительней физического сервера?
Согласен, увлёкся с виртуализацией. Да, действительно, для аппаратнх расчетов требуется максимальный доступ к аппаратным ресурсам, 
который физический сервер дает более эффективно. 
Так и в случае с базами данных аппаратное размещение дает более высокий отклик, 
и сокращает возможности отказа в виде гипервизора хостовой машны.

```

### Задача 3: Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:  
1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.  
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин. 
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры. 
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux. 
 
Если брать все сценарии в целом, то  я бы выбрал Proxmox, использующий KVM. Так как:

-   Proxmox бесплатен
-   Поддерживает множество интересных решений, включая кластеризацию и миграцию в облака
-   Эмулирует как Linux, так и Windows системы
-   Относительно прост в освоении и не требует глубокой технической специализации для входа в работу

Хотя, для сценария 3 можно выбрать Hyper-v server, так как максимально совместим с Windows инфраструктурой.
А для сценария 4 - Docker. 

```
Доработка
Задание 3
3.1 в этом случае не будет проблем с балансировкой и т.п.?
Да, возможны. Выбирая этот вариант, я исходил из расчета простоты и open source. 
А так, естественно VMware vSphere в связке с VMware DRS. 
```

### Задача 4: Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Для минимизации рисков лучше не использовать гетерогенную среду. Она требует наличия инженеров, обладающих знаниями в их поддержке. В случае, если инженер покидает команду после длительного срока поддержки - проблематично найти специалиста, который в короткие сроки смог бы его заменить и осуществить поддержку на должном уровне. Также при необходимости миграции виртуалок в облака или между ЦОДами возможны проблемы с подготовкой окружения под разные среды виртуализации.
